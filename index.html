<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VIG</title>
    <meta name="description" content="VIG — featured drops and latest video." />

    <link rel="preconnect" href="https://untitled.stream" />
    <link rel="preconnect" href="https://www.youtube.com" />
    <link rel="preconnect" href="https://www.youtube-nocookie.com" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="styles.css" />
  </head>

  <body class="home">
    <header class="wrap">
      <div class="top">
        <a href="index.html" class="brand" aria-label="Home">
          <img src="assets/Viglogowhite.png" alt="VIG" class="siteLogo" />
        </a>

        <div class="topRight">
          <a class="navLink" href="music.html">Music</a>

          <a
            href="https://instagram.com/beatsbyvig"
            target="_blank"
            rel="noreferrer"
            class="igHeader"
            aria-label="Open Instagram"
          >
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
              <rect x="3" y="3" width="18" height="18" rx="5" stroke="currentColor" stroke-width="1.5"/>
              <circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="1.5"/>
              <circle cx="17" cy="7" r="1" fill="currentColor"/>
            </svg>
          </a>
        </div>
      </div>
    </header>

    <main class="wrap">
      <!-- HERO FEATURED -->
      <section class="section featuredHero">
        <div class="sectionHead">
          <h2>Featured</h2>
        </div>

        <div class="heroGrid">
          <!-- Hero 1 -->
          <button
            class="heroCard"
            type="button"
            data-category="Featured"
            data-title="Coming Soon"
            data-cover="assets/covers/colors-vig-x-pstmn-cover-art.png"
            data-preview=""
            data-buy="music.html"
            data-desc="New drop coming soon. Check the Music page for the full catalog."
          >
            <div class="heroCover">
              <img
                src="assets/covers/colors-vig-x-pstmn-cover-art.png"
                alt="Coming Soon cover"
                loading="lazy"
              />
            </div>
            <div class="heroMeta">
              <div class="heroTitle">Coming Soon</div>
              <div class="heroSub">Next Release</div>
              <div class="heroCtaRow">
                <span class="heroPill">Preview soon</span>
              </div>
            </div>
          </button>

          <!-- Hero 2 -->
          <button
            class="heroCard"
            type="button"
            data-category="Featured"
            data-title="Coming Soon"
            data-cover="assets/covers/colors-vig-x-pstmn-cover-art.png"
            data-preview=""
            data-buy="music.html"
            data-desc="Second featured slot. When live, this will open the preview player and buy link."
          >
            <div class="heroCover">
              <img
                src="assets/covers/colors-vig-x-pstmn-cover-art.png"
                alt="Coming Soon cover"
                loading="lazy"
              />
            </div>
            <div class="heroMeta">
              <div class="heroTitle">Coming Soon</div>
              <div class="heroSub">Featured</div>
              <div class="heroCtaRow">
                <span class="heroPill">New</span>
              </div>
            </div>
          </button>
        </div>
      </section>

      <!-- LATEST VIDEO -->
      <section class="section">
        <div class="videoFrame">
          <div class="videoPlaceholder">
            Upload your video, then paste the YouTube embed iframe here.
          </div>

          <!-- When ready, replace the placeholder with:
          <iframe
            src="https://www.youtube-nocookie.com/embed/VIDEO_ID"
            title="YouTube video player"
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            allowfullscreen
            loading="lazy"
          ></iframe>
          -->
        </div>
      </section>
    </main>

    <!-- MODAL (for future featured previews) -->
    <div class="modalOverlay" id="modalOverlay" aria-hidden="true">
      <div class="modal" role="dialog" aria-modal="true" aria-label="Details">
        <div class="modalTop">
          <div class="modalTopLeft">
            <div class="modalThumb" id="modalThumb" aria-hidden="true"></div>
            <div class="modalTopText">
              <div class="modalTitle" id="modalTitle">Preview</div>
              <div class="modalKicker" id="modalKicker"></div>
            </div>
          </div>
          <button class="iconBtn" type="button" id="closeModal" aria-label="Close">✕</button>
        </div>

        <div class="modalBody">
          <div class="modalPlayerWrap" id="modalPlayerWrap">
            <iframe
              id="modalFrame"
              src=""
              width="100%"
              height="344"
              allowfullscreen=""
              allow="picture-in-picture"
              frameborder="0"
              loading="lazy"
              title="Player preview"
            ></iframe>
          </div>

          <div class="modalContentGrid">
            <div class="modalLeft">
              <div class="modalDesc" id="modalDesc"></div>
            </div>
            <aside class="modalSide">
              <div class="modalActions" id="modalActions"></div>
            </aside>
          </div>
        </div>
      </div>
    </div>

    <script>
      const overlay = document.getElementById("modalOverlay");
      const frame = document.getElementById("modalFrame");
      const playerWrap = document.getElementById("modalPlayerWrap");
      const titleEl = document.getElementById("modalTitle");
      const kickerEl = document.getElementById("modalKicker");
      const actionsEl = document.getElementById("modalActions");
      const descEl = document.getElementById("modalDesc");
      const closeBtn = document.getElementById("closeModal");
      const thumbEl = document.getElementById("modalThumb");

      function escapeHtml(str) {
        return String(str)
          .replaceAll("&", "&amp;")
          .replaceAll("<", "&lt;")
          .replaceAll(">", "&gt;")
          .replaceAll('"', "&quot;")
          .replaceAll("'", "&#039;");
      }

      function formatDesc(desc) {
        const safe = escapeHtml(desc || "");
        return safe.replaceAll("\n", "<br>");
      }

      function openModal({ category, title, cover, preview, buy, desc }) {
        titleEl.textContent = title || "Preview";
        kickerEl.textContent = category ? category.toUpperCase() : "";

        thumbEl.innerHTML = "";
        if (cover) {
          const img = document.createElement("img");
          img.src = cover;
          img.alt = "";
          img.loading = "lazy";
          thumbEl.appendChild(img);
        }

        if (preview) {
          playerWrap.style.display = "";
          frame.src = preview;
        } else {
          playerWrap.style.display = "none";
          frame.src = "";
        }

        actionsEl.innerHTML = "";
        if (buy) {
          const a = document.createElement("a");
          a.className = "btn btnPrimary";
          a.href = buy;
          a.target = "_blank";
          a.rel = "noreferrer";
          a.textContent = preview ? "Download / Buy" : "Open";
          actionsEl.appendChild(a);
        }

        descEl.innerHTML = formatDesc(desc);

        overlay.classList.add("open");
        overlay.setAttribute("aria-hidden", "false");
        document.body.style.overflow = "hidden";
        closeBtn.focus();
      }

      function closeModal() {
        overlay.classList.remove("open");
        overlay.setAttribute("aria-hidden", "true");
        frame.src = "";
        document.body.style.overflow = "";
      }

      document.addEventListener("click", (e) => {
        const trigger = e.target.closest(".heroCard");
        if (!trigger) return;

        openModal({
          category: trigger.dataset.category || "",
          title: trigger.dataset.title || "",
          cover: trigger.dataset.cover || "",
          preview: trigger.dataset.preview || "",
          buy: trigger.dataset.buy || "",
          desc: trigger.dataset.desc || "",
        });
      });

      closeBtn.addEventListener("click", closeModal);
      overlay.addEventListener("click", (e) => {
        if (e.target === overlay) closeModal();
      });
      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape" && overlay.classList.contains("open")) closeModal();
      });
    </script>
  </body>
</html>
