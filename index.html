<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>VIG</title>
  <meta name="description" content="VIG — sample packs, beats, releases." />

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;650;700&display=swap" rel="stylesheet" />

  <link rel="stylesheet" href="styles.css" />
</head>

<body class="home">
  <header class="wrap">
    <div class="top">
      <div class="topLeft">
        <a href="index.html" class="brand" aria-label="Home">
          <img src="assets/Viglogowhite.png" alt="VIG" class="siteLogo" />
        </a>

        <nav class="mainNav">
          <a class="navLink" href="music.html">Music</a>
          <a class="navLink" href="releases.html">Releases</a>
        </nav>
      </div>

      <div class="topRight">
        <a
          href="https://instagram.com/beatsbyvig"
          target="_blank"
          rel="noreferrer"
          class="igHeader"
          aria-label="Open Instagram"
        >
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
            <rect x="3" y="3" width="18" height="18" rx="5" stroke="currentColor" stroke-width="1.5"/>
            <circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="1.5"/>
            <circle cx="17" cy="7" r="1" fill="currentColor"/>
          </svg>
        </a>
      </div>
    </div>
  </header>

  <main class="wrap">
    <section class="section">
      <div class="sectionHead">
        <h2>Featured</h2>
      </div>

      <div class="heroGrid">
        <button
          class="heroCard"
          type="button"
          data-category="Featured"
          data-title="Coming Soon"
          data-cover="assets/covers/colors-vig-x-pstmn-cover-art.png"
          data-preview=""
          data-buy="music.html"
          data-desc="New drop coming soon."
        >
          <div class="heroCover">
            <img src="assets/covers/colors-vig-x-pstmn-cover-art.png" alt="" loading="lazy" />
          </div>
          <div class="heroInfo">
            <div class="heroTitle">Coming Soon</div>
            <div class="heroSub">Next Drop</div>
            <span class="heroPill">Preview soon</span>
          </div>
        </button>

        <button
          class="heroCard"
          type="button"
          data-category="Featured"
          data-title="Coming Soon"
          data-cover="assets/covers/colors-vig-x-pstmn-cover-art.png"
          data-preview=""
          data-buy="music.html"
          data-desc="Second featured slot."
        >
          <div class="heroCover">
            <img src="assets/covers/colors-vig-x-pstmn-cover-art.png" alt="" loading="lazy" />
          </div>
          <div class="heroInfo">
            <div class="heroTitle">Coming Soon</div>
            <div class="heroSub">Featured</div>
            <span class="heroPill">New</span>
          </div>
        </button>
      </div>
    </section>

    <section class="section">
      <div class="videoFrame">
        Latest YouTube video embed goes here.
      </div>
    </section>
  </main>

  <!-- MODAL -->
  <div class="modalOverlay" id="modalOverlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-label="Featured details">
      <div class="modalTop">
        <div class="modalTopLeft">
          <div class="modalThumb"><img id="modalThumbImg" alt="" /></div>
          <div class="modalTopText">
            <div class="modalTitle" id="modalTitle"></div>
            <div class="modalKicker" id="modalKicker"></div>
          </div>
        </div>
        <button class="iconBtn" type="button" id="closeModal" aria-label="Close">✕</button>
      </div>

      <div class="modalBody">
        <div class="modalPlayerWrap">
          <iframe
            id="modalFrame"
            src=""
            width="100%"
            height="344"
            allowfullscreen
            allow="picture-in-picture"
            frameborder="0"
            loading="lazy"
          ></iframe>
        </div>

        <div class="modalContentGrid">
          <div class="modalDesc" id="modalDesc"></div>
          <div class="modalActions" id="modalActions"></div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const overlay = document.getElementById("modalOverlay");
    const modalEl = document.querySelector(".modal");
    const frame = document.getElementById("modalFrame");
    const titleEl = document.getElementById("modalTitle");
    const kickerEl = document.getElementById("modalKicker");
    const actionsEl = document.getElementById("modalActions");
    const descEl = document.getElementById("modalDesc");
    const closeBtn = document.getElementById("closeModal");
    const thumbImg = document.getElementById("modalThumbImg");

    function openModal(btn){
      const title = btn.dataset.title || "";
      const kicker = btn.dataset.category || "";
      const cover = btn.dataset.cover || "";
      const preview = btn.dataset.preview || "";
      const buy = btn.dataset.buy || "";
      const desc = btn.dataset.desc || "";

      titleEl.textContent = title;
      kickerEl.textContent = kicker;
      descEl.textContent = desc;

      // blurred art backdrop
      if (cover) modalEl.style.setProperty("--modal-art", `url("${cover}")`);
      else modalEl.style.setProperty("--modal-art", "none");

      // thumb
      thumbImg.src = cover || "";

      // player (if none, hide it)
      if (preview) {
        frame.src = preview;
        frame.style.display = "block";
      } else {
        frame.src = "";
        frame.style.display = "none";
      }

      actionsEl.innerHTML = "";
      if (buy) {
        const a = document.createElement("a");
        a.className = "btn";
        a.href = buy;
        a.target = "_blank";
        a.rel = "noreferrer";
        a.textContent = "Open";
        actionsEl.appendChild(a);
      }

      overlay.classList.add("open");
      document.body.style.overflow = "hidden";
    }

    function closeModal(){
      overlay.classList.remove("open");
      frame.src = "";
      frame.style.display = "block";
      modalEl.style.setProperty("--modal-art", "none");
      document.body.style.overflow = "";
    }

    document.addEventListener("click", (e)=>{
      const btn = e.target.closest(".heroCard");
      if (btn) openModal(btn);
    });

    closeBtn.addEventListener("click", closeModal);
    overlay.addEventListener("click", (e)=>{
      if (e.target === overlay) closeModal();
    });
    document.addEventListener("keydown", (e)=>{
      if (e.key === "Escape" && overlay.classList.contains("open")) closeModal();
    });
  </script>
</body>
</html>
