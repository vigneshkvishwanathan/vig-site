<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VIG — Music</title>
    <meta name="description" content="Loop packs, drum packs, and beats by VIG." />

    <link rel="preconnect" href="https://untitled.stream" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="styles.css" />
  </head>

  <body>
    <header class="wrap">
      <div class="top">
        <a href="index.html" class="brand" aria-label="Home">
          <img src="assets/Viglogowhite.png" alt="VIG" class="siteLogo" />
        </a>

        <div class="topRight">
          <a class="navLink active" href="music.html">Music</a>

          <a
            href="https://instagram.com/beatsbyvig"
            target="_blank"
            rel="noreferrer"
            class="igHeader"
            aria-label="Open Instagram"
          >
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
              <rect x="3" y="3" width="18" height="18" rx="5" stroke="currentColor" stroke-width="1.5"/>
              <circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="1.5"/>
              <circle cx="17" cy="7" r="1" fill="currentColor"/>
            </svg>
          </a>
        </div>
      </div>
    </header>

    <main class="wrap">
      <section class="section">
        <div class="sectionHead">
          <h2>Packs</h2>
        </div>

        <div class="storeLayout">
          <!-- LOOP PACKS -->
          <div class="storeCol">
            <section class="section">
              <h2>Loop Packs</h2>

              <div class="tileGrid">
                <button
                  class="tile"
                  type="button"
                  data-category="Loop Packs"
                  data-title="VIG Sampler 001"
                  data-cover="assets/covers/vig-sampler-001-cover-art.png"
                  data-preview="https://untitled.stream/embed/cown93EcBEwW"
                  data-buy="https://untitled.stream/library/project/pIur9k2oXWJo9gKJqvqLw"
                  data-desc="5 moody, dusty loops. Composed, mixed, and processed by me.

*stems available upon request. DM me on Instagram @beatsbyvig

.wav 44.1kHz"
                >
                  <div class="cover">
                    <img src="assets/covers/vig-sampler-001-cover-art.png" alt="VIG Sampler 001 cover" loading="lazy" />
                  </div>
                  <div class="tileText">
                    <div class="tileTitle">VIG Sampler 001</div>
                    <div class="tileSub">Loops</div>
                  </div>
                </button>

                <button
                  class="tile"
                  type="button"
                  data-category="Loop Packs"
                  data-title="VIG Sampler 002"
                  data-cover="assets/covers/vig-sampler-002-cover-art.png"
                  data-preview="https://untitled.stream/embed/F5QNthroz09S"
                  data-buy="https://untitled.stream/library/project/xVYbn0UCnvo66FJUvB2Yi"
                  data-desc="5 dark, vintage loops. Composed, mixed, and processed by me.

*stems available upon request. DM me on Instagram @beatsbyvig

.wav 44.1kHz"
                >
                  <div class="cover">
                    <img src="assets/covers/vig-sampler-002-cover-art.png" alt="VIG Sampler 002 cover" loading="lazy" />
                  </div>
                  <div class="tileText">
                    <div class="tileTitle">VIG Sampler 002</div>
                    <div class="tileSub">Loops</div>
                  </div>
                </button>

                <button
                  class="tile"
                  type="button"
                  data-category="Loop Packs"
                  data-title="VIG Sampler 003"
                  data-cover="assets/covers/vig-sampler-003-cover-art.png"
                  data-preview="https://untitled.stream/embed/J6sDt5cJ0Zcr"
                  data-buy="https://untitled.stream/library/project/Khw9yheCAMHIDYdd4TFIg"
                  data-desc="5 modern synth loops. Composed, mixed, and processed by me.

*stems available upon request. DM me on Instagram @beatsbyvig

.wav 44.1kHz"
                >
                  <div class="cover">
                    <img src="assets/covers/vig-sampler-003-cover-art.png" alt="VIG Sampler 003 cover" loading="lazy" />
                  </div>
                  <div class="tileText">
                    <div class="tileTitle">VIG Sampler 003</div>
                    <div class="tileSub">Loops</div>
                  </div>
                </button>
              </div>
            </section>
          </div>

          <!-- DRUM PACKS -->
          <div class="storeCol">
            <section class="section">
              <h2>Drum Packs</h2>

              <div class="tileGrid">
                <button
                  class="tile"
                  type="button"
                  data-category="Drum Packs"
                  data-title="VIG Breaks 001"
                  data-cover="assets/covers/vig-breaks-001-cover-art.png"
                  data-preview="https://untitled.stream/embed/EPGNrJrOk0RM"
                  data-buy="https://untitled.stream/library/project/Qk1X5gfHEzBwParRdsxb9"
                  data-desc="5 crunchy hip-hop breaks. Composed, mixed, and processed by me.

.wav 44.1kHz"
                >
                  <div class="cover">
                    <img src="assets/covers/vig-breaks-001-cover-art.png" alt="VIG Breaks 001 cover" loading="lazy" />
                  </div>
                  <div class="tileText">
                    <div class="tileTitle">VIG Breaks 001</div>
                    <div class="tileSub">Drums</div>
                  </div>
                </button>

                <button
                  class="tile"
                  type="button"
                  data-category="Drum Packs"
                  data-title="VIG Breaks 002"
                  data-cover="assets/covers/vig-breaks-002-cover-art.png"
                  data-preview="https://untitled.stream/embed/xCAZohh6v9Ir"
                  data-buy="https://untitled.stream/library/project/1wx4nEN6VBfht4JKt5BUw"
                  data-desc="5 heavy hip-hop breaks, with a modern twist. Composed, mixed, and processed by me.

.wav 44.1kHz"
                >
                  <div class="cover">
                    <img src="assets/covers/vig-breaks-002-cover-art.png" alt="VIG Breaks 002 cover" loading="lazy" />
                  </div>
                  <div class="tileText">
                    <div class="tileTitle">VIG Breaks 002</div>
                    <div class="tileSub">Drums</div>
                  </div>
                </button>
              </div>
            </section>
          </div>
        </div>
      </section>

      <!-- BEATS (single embed, no tiles) -->
      <section class="section">
        <div class="sectionHead">
          <h2>Beats</h2>
        </div>

        <!-- Paste your "giant beats folder" Untitled embed here -->
        <div class="beatsEmbed">
          <!-- Example:
          <iframe style="border-radius:24px" src="https://untitled.stream/embed/YOUR_BEATS_EMBED_ID" width="100%" height="344" allowFullScreen="" allow="picture-in-picture" frameborder="0" loading="lazy"></iframe>
          -->
          <div class="videoPlaceholder">Paste your Untitled Beats embed iframe here.</div>
        </div>
      </section>
    </main>

    <!-- MODAL -->
    <div class="modalOverlay" id="modalOverlay" aria-hidden="true">
      <div class="modal" role="dialog" aria-modal="true" aria-label="Pack details">
        <div class="modalTop">
          <div class="modalTopLeft">
            <div class="modalThumb" id="modalThumb" aria-hidden="true"></div>
            <div class="modalTopText">
              <div class="modalTitle" id="modalTitle">Preview</div>
              <div class="modalKicker" id="modalKicker"></div>
            </div>
          </div>
          <button class="iconBtn" type="button" id="closeModal" aria-label="Close">✕</button>
        </div>

        <div class="modalBody">
          <div class="modalPlayerWrap" id="modalPlayerWrap">
            <iframe
              id="modalFrame"
              src=""
              width="100%"
              height="344"
              allowfullscreen=""
              allow="picture-in-picture"
              frameborder="0"
              loading="lazy"
              title="Untitled player preview"
            ></iframe>
          </div>

          <div class="modalContentGrid">
            <div class="modalLeft">
              <div class="modalDesc" id="modalDesc"></div>
            </div>
            <aside class="modalSide">
              <div class="modalActions" id="modalActions"></div>
            </aside>
          </div>
        </div>
      </div>
    </div>

    <script>
      const overlay = document.getElementById("modalOverlay");
      const frame = document.getElementById("modalFrame");
      const playerWrap = document.getElementById("modalPlayerWrap");
      const titleEl = document.getElementById("modalTitle");
      const kickerEl = document.getElementById("modalKicker");
      const actionsEl = document.getElementById("modalActions");
      const descEl = document.getElementById("modalDesc");
      const closeBtn = document.getElementById("closeModal");
      const thumbEl = document.getElementById("modalThumb");

      function escapeHtml(str) {
        return String(str)
          .replaceAll("&", "&amp;")
          .replaceAll("<", "&lt;")
          .replaceAll(">", "&gt;")
          .replaceAll('"', "&quot;")
          .replaceAll("'", "&#039;");
      }

      function formatDesc(desc) {
        const safe = escapeHtml(desc || "");
        const withLinks = safe.replaceAll(
          "@beatsbyvig",
          "<a href=\"https://instagram.com/beatsbyvig\" target=\"_blank\" rel=\"noreferrer\">@beatsbyvig</a>"
        );
        return withLinks.replaceAll("\n", "<br>");
      }

      function openModal({ category, title, cover, preview, buy, desc }) {
        titleEl.textContent = title || "Preview";
        kickerEl.textContent = category ? category.toUpperCase() : "";

        thumbEl.innerHTML = "";
        if (cover) {
          const img = document.createElement("img");
          img.src = cover;
          img.alt = "";
          img.loading = "lazy";
          thumbEl.appendChild(img);
        }

        if (preview) {
          playerWrap.style.display = "";
          frame.src = preview;
        } else {
          playerWrap.style.display = "none";
          frame.src = "";
        }

        actionsEl.innerHTML = "";
        if (buy) {
          const a = document.createElement("a");
          a.className = "btn btnPrimary";
          a.href = buy;
          a.target = "_blank";
          a.rel = "noreferrer";
          a.textContent = preview ? "Download / Buy" : "Open";
          actionsEl.appendChild(a);
        }

        descEl.innerHTML = formatDesc(desc);

        overlay.classList.add("open");
        overlay.setAttribute("aria-hidden", "false");
        document.body.style.overflow = "hidden";
        closeBtn.focus();
      }

      function closeModal() {
        overlay.classList.remove("open");
        overlay.setAttribute("aria-hidden", "true");
        frame.src = "";
        document.body.style.overflow = "";
      }

      document.addEventListener("click", (e) => {
        const tile = e.target.closest(".tile");
        if (!tile) return;

        openModal({
          category: tile.dataset.category || "",
          title: tile.dataset.title || "",
          cover: tile.dataset.cover || "",
          preview: tile.dataset.preview || "",
          buy: tile.dataset.buy || "",
          desc: tile.dataset.desc || "",
        });
      });

      closeBtn.addEventListener("click", closeModal);
      overlay.addEventListener("click", (e) => {
        if (e.target === overlay) closeModal();
      });
      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape" && overlay.classList.contains("open")) closeModal();
      });
    </script>
  </body>
</html>
