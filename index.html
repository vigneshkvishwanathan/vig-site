<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VIG — Loops + Drums</title>
    <meta name="description" content="Loops + drums by VIG." />
    <link rel="stylesheet" href="styles.css" />
  </head>

  <body>
    <header class="wrap">
      <div class="top">
        <div>
          <h1>VIG</h1>
        </div>
      </div>
    </header>

    <main class="wrap">
      <div class="storeLayout">
        <!-- LOOPS -->
        <div class="storeCol">
          <section class="section">
            <h2>Loops</h2>

            <div class="tileGrid">
              <!-- Loop 1 -->
              <button
                class="tile"
                type="button"
                data-title="Loop Pack 1"
                data-preview="https://untitled.stream/embed/cown93EcBEwW"
                data-buy="https://untitled.stream/library/project/pIur9k2oXWJo9gKJqvqLw"
                data-desc="5 moody, dusty loops. Composed, mixed, and processed by me.<br><br><em>Stems available upon request.</em> DM me on Instagram <a href='https://instagram.com/beatsbyvig' target='_blank' rel='noreferrer'>@beatsbyvig</a><br><br><span class='meta'>.wav • 44.1kHz</span>"
              >
                <div class="cover coverA" aria-hidden="true"></div>
                <div class="tileTitle">Loop Pack 1</div>
              </button>

              <!-- Loop 2 -->
              <button
                class="tile"
                type="button"
                data-title="Loop Pack 2"
                data-preview="https://untitled.stream/embed/F5QNthroz09S"
                data-buy="https://untitled.stream/library/project/xVYbn0UCnvo66FJUvB2Yi"
                data-desc="5 moody, dusty loops. Composed, mixed, and processed by me.<br><br><em>Stems available upon request.</em> DM me on Instagram <a href='https://instagram.com/beatsbyvig' target='_blank' rel='noreferrer'>@beatsbyvig</a><br><br><span class='meta'>.wav • 44.1kHz</span>"
              >
                <div class="cover coverB" aria-hidden="true"></div>
                <div class="tileTitle">Loop Pack 2</div>
              </button>

              <!-- Loop 3 -->
              <button
                class="tile"
                type="button"
                data-title="Loop Pack 3"
                data-preview="https://untitled.stream/embed/J6sDt5cJ0Zcr"
                data-buy="https://untitled.stream/library/project/Khw9yheCAMHIDYdd4TFIg"
                data-desc="5 moody, dusty loops. Composed, mixed, and processed by me.<br><br><em>Stems available upon request.</em> DM me on Instagram <a href='https://instagram.com/beatsbyvig' target='_blank' rel='noreferrer'>@beatsbyvig</a><br><br><span class='meta'>.wav • 44.1kHz</span>"
              >
                <div class="cover coverC" aria-hidden="true"></div>
                <div class="tileTitle">Loop Pack 3</div>
              </button>

              <!-- Loop 4 (paid, no embed) -->
              <button
                class="tile"
                type="button"
                data-title="Loop Pack 4"
                data-buy="https://untitled.stream/buy/project/LWFKDZrNVPvmfI6MXqGzm"
                data-desc="Premium pack. No preview available (Untitled paid embeds aren’t supported yet).<br><br><em>Stems available upon request.</em> DM me on Instagram <a href='https://instagram.com/beatsbyvig' target='_blank' rel='noreferrer'>@beatsbyvig</a><br><br><span class='meta'>.wav • 44.1kHz</span>"
              >
                <div class="cover coverD" aria-hidden="true"></div>
                <div class="tileTitle">Loop Pack 4</div>
              </button>
            </div>
          </section>
        </div>

        <!-- DRUMS -->
        <div class="storeCol">
          <section class="section">
            <h2>Drums</h2>

            <div class="tileGrid">
              <!-- Drum 1 -->
              <button
                class="tile"
                type="button"
                data-title="Drum Pack 1"
                data-preview="https://untitled.stream/embed/EPGNrJrOk0RM"
                data-buy="https://untitled.stream/library/project/Qk1X5gfHEzBwParRdsxb9"
                data-desc="Hard drums. Clean one-shots. Curated and processed by me.<br><br><em>Stems available upon request.</em> DM me on Instagram <a href='https://instagram.com/beatsbyvig' target='_blank' rel='noreferrer'>@beatsbyvig</a><br><br><span class='meta'>.wav • 44.1kHz</span>"
              >
                <div class="cover coverE" aria-hidden="true"></div>
                <div class="tileTitle">Drum Pack 1</div>
              </button>

              <!-- Drum 2 -->
              <button
                class="tile"
                type="button"
                data-title="Drum Pack 2"
                data-preview="https://untitled.stream/embed/xCAZohh6v9Ir"
                data-buy="https://untitled.stream/library/project/1wx4nEN6VBfht4JKt5BUw"
                data-desc="Hard drums. Clean one-shots. Curated and processed by me.<br><br><em>Stems available upon request.</em> DM me on Instagram <a href='https://instagram.com/beatsbyvig' target='_blank' rel='noreferrer'>@beatsbyvig</a><br><br><span class='meta'>.wav • 44.1kHz</span>"
              >
                <div class="cover coverF" aria-hidden="true"></div>
                <div class="tileTitle">Drum Pack 2</div>
              </button>
            </div>
          </section>
        </div>
      </div>

      <section class="section">
        <h2>Contact</h2>
        <p class="muted">
          IG: <a href="https://instagram.com/beatsbyvig" target="_blank" rel="noreferrer">@beatsbyvig</a>
        </p>
      </section>
    </main>

    <footer class="wrap foot">
      <p class="muted">© <span id="y"></span> VIG</p>
    </footer>

    <!-- MODAL -->
    <div class="modalOverlay" id="modalOverlay" aria-hidden="true">
      <div class="modal" role="dialog" aria-modal="true" aria-label="Pack details">
        <div class="modalTop">
          <div class="modalTitle" id="modalTitle">Preview</div>
          <button class="iconBtn" type="button" id="closeModal" aria-label="Close">✕</button>
        </div>

        <div class="modalBody">
          <div class="modalPlayerWrap" id="modalPlayerWrap">
            <iframe
              id="modalFrame"
              src=""
              width="100%"
              height="420"
              allowfullscreen=""
              allow="picture-in-picture"
              frameborder="0"
              loading="lazy"
              title="Untitled player preview"
            ></iframe>
          </div>

          <div class="modalActions" id="modalActions"></div>

          <div class="modalDesc" id="modalDesc"></div>
        </div>
      </div>
    </div>

    <script>
      // year
      document.getElementById("y").textContent = new Date().getFullYear();

      const overlay = document.getElementById("modalOverlay");
      const frame = document.getElementById("modalFrame");
      const playerWrap = document.getElementById("modalPlayerWrap");
      const titleEl = document.getElementById("modalTitle");
      const actionsEl = document.getElementById("modalActions");
      const descEl = document.getElementById("modalDesc");
      const closeBtn = document.getElementById("closeModal");

      function openModal({ title, preview, buy, desc }) {
        titleEl.textContent = title || "Preview";

        // player
        if (preview) {
          playerWrap.style.display = "";
          frame.src = preview;
        } else {
          playerWrap.style.display = "none";
          frame.src = "";
        }

        // actions
        actionsEl.innerHTML = "";
        if (buy) {
          const a = document.createElement("a");
          a.className = "btn";
          a.href = buy;
          a.target = "_blank";
          a.rel = "noreferrer";
          a.textContent = preview ? "Download / Buy" : "Buy";
          actionsEl.appendChild(a);
        }

        // description (we intentionally allow simple HTML here for line breaks + link)
        descEl.innerHTML = desc || "";

        overlay.classList.add("open");
        overlay.setAttribute("aria-hidden", "false");
        document.body.style.overflow = "hidden";
        closeBtn.focus();
      }

      function closeModal() {
        overlay.classList.remove("open");
        overlay.setAttribute("aria-hidden", "true");
        frame.src = ""; // stop audio
        document.body.style.overflow = "";
      }

      // tile click opens modal
      document.addEventListener("click", (e) => {
        const tile = e.target.closest(".tile");
        if (!tile) return;

        openModal({
          title: tile.dataset.title,
          preview: tile.dataset.preview || "",
          buy: tile.dataset.buy || "",
          desc: tile.dataset.desc || "",
        });
      });

      closeBtn.addEventListener("click", closeModal);
      overlay.addEventListener("click", (e) => {
        if (e.target === overlay) closeModal();
      });
      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape" && overlay.classList.contains("open")) closeModal();
      });
    </script>
  </body>
</html>
